:root { --current-color: #ffeb3b; } 
* { box-sizing: border-box; } 

/* ★PC版でスマホサイズに固定するための設定 */
html { background-color: #222; } /* PCで見た時の外側の色 */
body { 
    font-family: 'Yomogi', cursive, sans-serif; 
    margin: 0 auto; /* 画面中央に配置 */
    padding: 0; 
    color: #4a3b2a; 
    height: 100vh; 
    overflow: hidden; 
    display: flex; 
    flex-direction: column; 
    transition: background 1s; 
    max-width: 450px; /* ★最大幅をスマホサイズに制限 */
    width: 100%; 
    box-shadow: 0 0 20px rgba(0,0,0,0.5); /* 影をつけて浮き立たせる */
    position: relative;
    background-color: #006940;
} 

.bg-green { background-color: #006940; background-image: radial-gradient(#008751 10%, transparent 10%); background-size: 20px 20px; position: relative; }
.bg-green::before { content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E"); pointer-events: none; opacity: 0.3; animation: dust 20s linear infinite; }
@keyframes dust { 0% { background-position: 0 0; } 100% { background-position: 100px 100px; } }

.bg-desk { background-color: #cba67b; background-image: repeating-linear-gradient(115deg, transparent, transparent 20px, rgba(90, 60, 30, 0.1) 21px, transparent 22px), repeating-linear-gradient(24deg, transparent, transparent 35px, rgba(90, 60, 30, 0.08) 36px, transparent 37px), radial-gradient(ellipse at 20% 40%, rgba(0,0,0,0.1) 0%, transparent 50%), radial-gradient(ellipse at 80% 70%, rgba(139, 100, 60, 0.15) 0%, transparent 60%), repeating-linear-gradient(0deg, rgba(100, 70, 40, 0.05) 0px, rgba(100, 70, 40, 0.05) 1px, transparent 1px, transparent 3px); background-position: 0 0, 50px 30px, 0 0, 0 0, 0 0; } .screen { display: none; flex-direction: column; width: 100%; height: 100%; padding-bottom: 80px; overflow-y: auto; -webkit-overflow-scrolling: touch; } .active { display: flex; } #screen-game, #screen-coloring { overflow: hidden; touch-action: none; } 
.ad-space { background: #fff9c4; min-height: 50px; width: 100%; display: flex; align-items: center; justify-content: center; border-bottom: 1px solid #ddd; overflow: hidden; } 
.notebook-header { background-color: #006940; border: 4px solid #fdd835; border-radius: 4px; margin: 10px; padding: 10px; text-align: center; color: #fff; box-shadow: 0 4px 6px rgba(0,0,0,0.2); position: relative; } .header-title-box { border: 2px solid #fdd835; padding: 5px 10px; display: inline-block; margin-bottom: 5px; background: rgba(0,0,0,0.1); border-radius: 20px; } .room-name-label { margin: 0; font-size: 22px; letter-spacing: 2px; font-weight: bold; color: #fffde7; } 
.timer-pencil-container { flex: 1; max-width: 200px; height: 14px; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.6); border-radius: 7px; margin: 0 10px; overflow: visible; position: relative; z-index: 50; display: inline-block; width: 100%; } 
.timer-bar-fill { height: 100%; width: 100%; background: #81c784; border-radius: 6px; position: relative; transition: width 0.5s linear, background 1s; } 
.timer-bar-fill::after { content: ''; position: absolute; right: -8px; top: 0; width: 0; height: 0; border-style: solid; border-width: 7px 0 7px 8px; border-color: transparent transparent transparent #fdd835; } 
.timer-bar-fill::before { content: ''; position: absolute; right: -11px; top: 5px; width: 3px; height: 4px; background: #333; border-radius: 1px; z-index: 10; } 
.timer-bar-fill.short { background: #ff8a80; } .timer-bar-fill.short::after { border-color: transparent transparent transparent #ffab91; } 
.lobby-card { background: #fff; margin: 20px; padding: 25px 20px; border-radius: 4px; box-shadow: 3px 3px 0 rgba(0,0,0,0.2); border: 2px solid #ddd; position: relative; } .lobby-card::before { content: ""; position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px; border: 1px solid #eee; pointer-events: none; } h3 { text-align: center; border-bottom: 2px solid #006940; padding-bottom: 5px; margin-top: 0; color: #006940; } input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ccc; border-radius: 4px; background: #f9f9f9; font-family: inherit; font-size: 16px; outline: none; } input:focus { border-color: #006940; background: #fff; } .action-btn { width: 100%; padding: 12px; background: #006940; color: #fff; font-family: inherit; font-weight: bold; border: none; border-radius: 4px; cursor: pointer; box-shadow: 0 3px 0 #004d40; margin-top: 10px; font-size: 18px; } .action-btn:active { transform: translateY(3px); box-shadow: none; } .highlight { border: 3px solid #fdd835; background: #fffde7; } #member-list { list-style: none; padding: 0; margin: 5px 0; background: rgba(0,0,0,0.2); border-radius: 4px; text-align: left; } #member-list li { padding: 5px 10px; border-bottom: 1px solid rgba(255,255,255,0.1); color: #fff; font-size: 14px; display: flex; justify-content: space-between; align-items: center; } .kick-btn { background: #e53935; color: white; border: none; border-radius: 50%; width: 20px; height: 20px; font-size: 12px; cursor: pointer; line-height: 1; } #canvas-area { flex: 1; padding: 15px; display: flex; flex-direction: column; justify-content: center; width: 100%; overflow: hidden; position: relative; } 
.notebook-paper { background-color: #fff; width: 100%; height: 100%; border-radius: 2px; box-shadow: 2px 4px 10px rgba(0,0,0,0.2); position: relative; background-image: linear-gradient(90deg, transparent 39px, #ffcdd2 39px, #ffcdd2 41px, transparent 41px), linear-gradient(#e0e0e0 1px, transparent 1px); background-size: 100% 100%, 100% 40px; } canvas { width: 100%; height: 100%; touch-action: none; cursor: crosshair; background: transparent !important; } 

/* ★前の絵（サムネイル）の位置とサイズ調整 */
#prev-history-container { 
    position: absolute; 
    top: 5px; /* ★上に飛び出さないようにキャンバスの内側に下げる */
    right: 5px; /* 右上に配置 */
    display: none; 
    gap: 8px; /* ★指で押しやすいように隙間を広げる */
    z-index: 20; 
    max-width: calc(100% - 10px); 
    overflow-x: auto; 
    padding-bottom: 5px; 
}
.thumb-box { 
    min-width: 45px; /* ★タップしやすいように少し大きく */
    height: 45px; 
    border: 2px solid #fff; 
    box-shadow: 1px 1px 4px rgba(0,0,0,0.4); 
    background: #fff; 
    transform: rotate(5deg); 
    cursor: pointer; 
    transition: transform 0.1s; 
} 
.thumb-box:nth-child(even) { transform: rotate(-3deg); } .thumb-box:last-child { transform: rotate(0deg); border: 2px solid #fdd835; } .thumb-box:active { transform: scale(1.1); } .thumb-box img { width: 100%; height: 100%; object-fit: cover; }

#reference-modal { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(255,255,255,0.95); z-index:3000; display:none; justify-content:center; align-items:center; flex-direction: column;} #reference-modal img { max-width:95%; max-height:80%; border: 5px solid #fff; box-shadow: 0 10px 25px rgba(0,0,0,0.2); } #reference-modal button { margin-top: 20px; background: #333; color: #fff; border: none; padding: 10px 20px; font-weight: bold; border-radius: 20px; box-shadow: 0 3px 6px rgba(0,0,0,0.2); }
.bottom-toolbar { position: fixed; bottom: 0; left: 0; width: 100%; background: #5d4037; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 -2px 10px rgba(0,0,0,0.3); z-index: 100; max-width: 450px; margin: 0 auto; /* PC幅対応 */ right: 0; } 
.tool-group { display: flex; gap: 10px; } .tool-btn { width: 45px; height: 45px; border-radius: 50%; border: 2px solid #fff; font-size: 12px; font-family: inherit; font-weight: bold; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.1s; } .tool-btn.selected { transform: scale(1.2); border-color: #fdd835; z-index: 10; } #btn-thin { background: #2c2c2c; color: white; } #btn-thick { background: #2c2c2c; color: white; border-width: 4px; } #btn-eraser { background: #fff; color: #333; border: 2px solid #ccc; } .submit-btn { background: #e53935; color: white; padding: 10px 20px; border-radius: 20px; border: none; font-family: inherit; font-weight: bold; box-shadow: 0 3px 0 #b71c1c; } .submit-btn:active { transform: translateY(3px); box-shadow: none; } .waiting-msg { text-align: center; margin-top: 20px; font-size: 24px; color: #4e342e; font-weight: bold; } 
.fusen-badge { position:absolute; top:2px; right:2px; background:#e91e63; color:#fff; font-size:10px; padding:2px 5px; border-radius:10px; box-shadow:1px 1px 2px rgba(0,0,0,0.3); } .invite-url-box { background: #fff; font-size: 10px; padding: 5px; border: 1px solid #ccc; width: 90%; margin: 5px auto; display: block; } .secondary-btn { background: #fff; border: 1px solid #006940; color: #006940; padding: 5px 10px; font-size: 12px; cursor: pointer; border-radius: 4px; font-family: inherit; } #debug-panel { position: fixed; top: 0; right: 0; background: rgba(0,0,0,0.5); color: #fff; font-size: 9px; padding: 2px; pointer-events: none; z-index: 9999; } .empty-msg { text-align: center; color: #fff; background: rgba(0,0,0,0.3); padding: 10px; border-radius: 10px; } #grad-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; padding: 10px; overflow-y: auto; height: 100%; } .grad-item { background: #fff; padding: 5px; border: 1px solid #ccc; text-align: center; border-radius: 4px; } .grad-item img { width: 100%; aspect-ratio: 1; object-fit: contain; background: #fff; } .grad-item button { margin-top: 5px; background: #ff9800; color: #fff; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 12px; } #cm-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.9); display: none; flex-direction: column; justify-content: center; align-items: center; color: #fff; z-index: 9999; } #coloring-container { flex: 1; margin: 15px; position: relative; background: #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.3); overflow: hidden; } #coloring-canvas { width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 5; } 

#line-art-overlay { width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 10; pointer-events: none; object-fit: contain; mix-blend-mode: multiply; } 

.coloring-toolbar { flex-direction: column; height: auto; padding-bottom: 20px; gap: 15px; } .tool-row { display: flex; gap: 10px; width: 100%; justify-content: center; align-items: center; } .tool-box { width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; cursor: pointer; position: relative; transition: transform 0.1s; } .tool-box.selected { transform: scale(1.1); } .pencil-icon { width: 14px; height: 30px; background: #ddd; position: relative; transform: rotate(135deg); border: 1px solid rgba(0,0,0,0.2); } .pencil-icon::before { content: ''; position: absolute; bottom: -10px; left: -1px; width: 0; height: 0; border-style: solid; border-width: 10px 7px 0 7px; border-color: #fdd835 transparent transparent transparent; } .pencil-icon::after { content: ''; position: absolute; bottom: -14px; left: 3px; width: 0; height: 0; border-style: solid; border-width: 4px 3px 0 3px; border-color: var(--current-color) transparent transparent transparent; } #tool-marker .pencil-icon { background: #ffeb3b; border-color: #fbc02d; } #tool-crayon .pencil-icon { background: #ff7043; border-color: #d84315; width: 16px; border-radius: 2px; } #tool-crayon .pencil-icon::before { border-width: 8px 8px 0 8px; border-color: var(--current-color) transparent transparent transparent; } #tool-crayon .pencil-icon::after { display: none; } .eraser-icon { width: 25px; height: 35px; background: #fff; border: 1px solid #ccc; position: relative; transform: rotate(15deg); border-radius: 2px; box-shadow: 2px 2px 0 rgba(0,0,0,0.1); } .eraser-icon::before { content: ''; position: absolute; top: 10px; left: -2px; width: 27px; height: 10px; background: #90caf9; border: 1px solid #42a5f5; } input[type=range] { width: 100px; margin: 0 10px; } .size-label { font-size: 10px; color: #fff; text-align: center; } #detail-modal { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:2000; display:none; justify-content:center; align-items:center; } .detail-card { width:90%; max-width:400px; background:#fff; border-radius:8px; overflow:hidden; padding:10px; position:relative; } .detail-image-box { position:relative; width:100%; aspect-ratio:1; background:#fff; border:1px solid #eee; overflow:hidden; } .detail-image-box img { width:100%; height:100%; object-fit:contain; } #detail-fusen-layer { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; } .fusen-sticker { position:absolute; padding:5px 8px; border-radius:2px; font-size:20px; box-shadow:2px 2px 4px rgba(0,0,0,0.2); transform:translate(-50%, -50%) rotate(-5deg); animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); } .fusen-btn { background:#fff; border:1px solid #ccc; padding:8px 12px; border-radius:20px; cursor:pointer; font-size:12px; font-weight:bold; color:#555;} .fusen-btn:active { background:#e0e0e0; transform:scale(0.95); } #name-tag { position:fixed; top:60px; right:5px; background:rgba(0,0,0,0.6); color:#fff; padding:2px 8px; border-radius:10px; font-size:10px; z-index:9000; display:none; pointer-events:none; }

.title-logo { font-size: 40px; margin: 30px 0; border-bottom: 4px solid #fdd835; display: inline-block; padding: 0 20px; color: #fff; text-shadow: 2px 2px 0 #004d40; }
.intro-box { background: rgba(255,255,255,0.9); width: 90%; max-width: 400px; margin: 0 auto 20px auto; border-radius: 4px; padding: 15px; text-align: left; height: 150px; overflow-y: scroll; font-size: 14px; line-height: 1.6; border: 1px solid #ccc; }
.title-menu-btn { width: 80%; max-width: 300px; padding: 15px; margin: 10px auto; font-size: 18px; border: none; border-radius: 30px; cursor: pointer; font-family: inherit; font-weight: bold; box-shadow: 0 4px 0 rgba(0,0,0,0.2); transition: transform 0.1s; display:flex; justify-content:center; align-items:center; flex-direction:column; }
.title-menu-btn:active { transform: translateY(4px); box-shadow: none; } .btn-continue { background: #ff9800; color: #fff; } .btn-create { background: #009688; color: #fff; } .btn-join { background: #fff; color: #009688; border: 2px solid #009688; } .btn-howto { background: transparent; color: #fff; border: 1px solid rgba(255,255,255,0.5); font-size: 14px; padding: 8px; width: auto; display: inline-block; } .version-tag { position: fixed; bottom: 5px; right: 5px; color: rgba(255,255,255,0.5); font-size: 10px; }
#howto-modal { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:4000; display:none; justify-content:center; align-items:center; }
.howto-content { background:#fff; width:90%; max-width:500px; max-height:80%; overflow-y:auto; padding:20px; border-radius:10px; }

.gallery-item { position: relative; display: flex; flex-direction: column; align-items: center; }
.order-badge { position: absolute; top: -5px; left: -5px; width: 24px; height: 24px; background: #fdd835; color: #333; border: 2px solid #fff; border-radius: 50%; font-size: 12px; font-weight: bold; display: flex; align-items: center; justify-content: center; box-shadow: 1px 1px 3px rgba(0,0,0,0.3); z-index: 10; }
.flow-arrow { font-size: 14px; color: #006940; font-weight: bold; margin-top: 2px; transform: rotate(90deg); }
.gallery-scroll { overflow-y: visible; padding: 10px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; align-content: start; padding-bottom: 20px; }
.gallery-scroll img { width: 100%; aspect-ratio: 1; object-fit: cover; background: #fff; border: 1px solid #ccc; box-shadow: 1px 1px 3px rgba(0,0,0,0.1); cursor:pointer; }

.fusen-smile { background:#fff9c4; color:#333; } 
.fusen-good { background:#b3e5fc; color:#333; }  
.fusen-clap { background:#ffccbc; color:#333; }
